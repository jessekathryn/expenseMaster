{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _AvInputContainer = require('./AvInputContainer');\n\nvar _AvInputContainer2 = _interopRequireDefault(_AvInputContainer);\n\nvar _AvValidator = require('./AvValidator');\n\nvar _AvValidator2 = _interopRequireDefault(_AvValidator);\n\nvar _reactstrap = require('reactstrap');\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _get2 = require('lodash/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _set2 = require('lodash/set');\n\nvar _set3 = _interopRequireDefault(_set2);\n\nvar _throttle2 = require('lodash/throttle');\n\nvar _throttle3 = _interopRequireDefault(_throttle2);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar getInputErrorMessage = function getInputErrorMessage(input, ruleName) {\n  var errorMessage = input && input.props && input.props.errorMessage;\n\n  if ((typeof errorMessage === 'undefined' ? 'undefined' : (0, _typeof3.default)(errorMessage)) === 'object') {\n    return errorMessage[ruleName];\n  }\n\n  return errorMessage;\n};\n\nvar AvForm = function (_InputContainer) {\n  (0, _inherits3.default)(AvForm, _InputContainer);\n\n  function AvForm() {\n    var _this2 = this;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, AvForm);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, _InputContainer.call.apply(_InputContainer, [this].concat(args))), _this), _this._isMounted = false, _this.state = {\n      invalidInputs: {},\n      dirtyInputs: {},\n      touchedInputs: {},\n      badInputs: {},\n      submitted: false\n    }, _this.validations = {}, _this.handleSubmit = function () {\n      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(e) {\n        var values, _ref2, isValid, errors;\n\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.props.beforeSubmitValidation) {\n                  _this.props.beforeSubmitValidation(e);\n                }\n\n                if (e && typeof e.preventDefault === 'function') {\n                  e.preventDefault();\n                }\n\n                if (!_this.props.disabled) {\n                  _context.next = 4;\n                  break;\n                }\n\n                return _context.abrupt('return');\n\n              case 4:\n                values = _this.getValues();\n                _context.next = 7;\n                return _this.validateAll(values, false);\n\n              case 7:\n                _ref2 = _context.sent;\n                isValid = _ref2.isValid;\n                errors = _ref2.errors;\n\n                _this.setTouched((0, _keys2.default)(_this._inputs), true, false);\n\n                _this.updateInputs();\n\n                _this.props.onSubmit(e, errors, values);\n\n                if (isValid) {\n                  _this.props.onValidSubmit(e, values);\n                } else {\n                  _this.props.onInvalidSubmit(e, errors, values);\n                }\n\n                !_this.state.submitted && _this._isMounted && _this.setState({\n                  submitted: true\n                });\n\n              case 15:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this2);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(), _this.handleNonFormSubmission = function (event) {\n      if (_this.props.onKeyDown(event) !== false) {\n        if (event.type === 'keydown' && (event.which === 13 || event.keyCode === 13 || event.key === 'Enter')) {\n          event.stopPropagation();\n          event.preventDefault();\n\n          _this.handleSubmit(event);\n        }\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  AvForm.prototype.getChildContext = function getChildContext() {\n    var _this3 = this;\n\n    return {\n      FormCtrl: {\n        getDefaultValue: this.getDefaultValue.bind(this),\n        getInputState: this.getInputState.bind(this),\n        getInput: function getInput(name) {\n          return _this3._inputs[name];\n        },\n        getInputValue: this.getValue.bind(this),\n        getValues: this.getValues.bind(this),\n        hasError: this.hasError.bind(this),\n        isDirty: this.isDirty.bind(this),\n        isTouched: this.isTouched.bind(this),\n        isBad: this.isBad.bind(this),\n        isDisabled: function isDisabled() {\n          return _this3.props.disabled;\n        },\n        isReadOnly: function isReadOnly() {\n          return _this3.props.readOnly;\n        },\n        setDirty: this.setDirty.bind(this),\n        setTouched: this.setTouched.bind(this),\n        setBad: this.setBad.bind(this),\n        register: this.registerInput.bind(this),\n        unregister: this.unregisterInput.bind(this),\n        validate: this.validateInput.bind(this),\n        getValidationEvent: function getValidationEvent() {\n          return _this3.props.validationEvent;\n        },\n        parent: this.context.FormCtrl || null\n      }\n    };\n  };\n\n  AvForm.prototype.componentWillUnmount = function componentWillUnmount() {\n    this._isMounted = false;\n  };\n\n  AvForm.prototype.componentWillMount = function componentWillMount() {\n    this._isMounted = true;\n\n    _InputContainer.prototype.componentWillMount.call(this);\n\n    this._validators = {};\n  };\n\n  AvForm.prototype.registerInput = function registerInput(input, updater) {\n    _InputContainer.prototype.registerInput.call(this, input, updater);\n\n    if ((0, _typeof3.default)(input.validations) === 'object') {\n      this._validators[input.props.name] = this.compileValidationRules(input, input.validations);\n    }\n  };\n\n  AvForm.prototype.unregisterInput = function unregisterInput(input) {\n    _InputContainer.prototype.unregisterInput.call(this, input);\n\n    delete this._validators[input.props.name];\n    this.setError(input.props.name, false);\n    this.setDirty(input.props.name, false);\n    this.setTouched(input.props.name, false);\n    this.setBad(input.props.name, false);\n  };\n\n  AvForm.prototype.render = function render() {\n    var _props = this.props,\n        Tag = _props.tag,\n        omit1 = _props.errorMessage,\n        omit2 = _props.model,\n        omit3 = _props.onValidSubmit,\n        omit4 = _props.onInvalidSubmit,\n        omit5 = _props.validate,\n        omit6 = _props.validateOne,\n        omit7 = _props.validateAll,\n        omit8 = _props.validationEvent,\n        omit9 = _props.disabled,\n        omit10 = _props.readOnly,\n        omit11 = _props.beforeSubmitValidation,\n        className = _props.className,\n        attributes = (0, _objectWithoutProperties3.default)(_props, ['tag', 'errorMessage', 'model', 'onValidSubmit', 'onInvalidSubmit', 'validate', 'validateOne', 'validateAll', 'validationEvent', 'disabled', 'readOnly', 'beforeSubmitValidation', 'className']);\n    var classes = (0, _classnames2.default)(className, this.state.submitted ? 'av-submitted' : false, (0, _keys2.default)(this.state.invalidInputs).length > 0 ? 'av-invalid' : 'av-valid');\n\n    if (Tag !== 'form' && Tag !== _reactstrap.Form) {\n      attributes.onKeyDown = this.handleNonFormSubmission;\n    }\n\n    return _react2.default.createElement(Tag, (0, _extends3.default)({\n      noValidate: true,\n      action: '#'\n    }, attributes, {\n      className: classes,\n      onSubmit: this.handleSubmit\n    }));\n  };\n\n  AvForm.prototype.getValues = function getValues() {\n    var _this4 = this;\n\n    return (0, _keys2.default)(this._inputs).reduce(function (values, inputName) {\n      (0, _set3.default)(values, inputName, _this4.getValue(inputName));\n      return values;\n    }, {});\n  };\n\n  AvForm.prototype.submit = function submit() {\n    this.handleSubmit.apply(this, arguments);\n  };\n\n  AvForm.prototype.reset = function reset() {\n    var _this5 = this;\n\n    (0, _keys2.default)(this._inputs).forEach(function (inputName) {\n      return _this5._inputs[inputName] && _this5._inputs[inputName].reset();\n    });\n  };\n\n  AvForm.prototype.updateInputs = function updateInputs() {\n    var _this6 = this;\n\n    if (this.throttledUpdateInputs) {\n      this.throttledUpdateInputs();\n      return;\n    } // this is just until a more intelligent way to determine which inputs need updated is implemented in v3\n\n\n    this.throttledUpdateInputs = (0, _throttle3.default)(function () {\n      (0, _keys2.default)(_this6._updaters).forEach(function (inputName) {\n        return _this6._updaters[inputName] && _this6._inputs[inputName] && _this6._updaters[inputName].call(_this6._inputs[inputName], {});\n      });\n    }, 250);\n    this.updateInputs();\n  };\n\n  AvForm.prototype.validateInput = function () {\n    var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(name) {\n      return _regenerator2.default.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.validateOne(name, this.getValues());\n\n            case 2:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function validateInput(_x2) {\n      return _ref3.apply(this, arguments);\n    }\n\n    return validateInput;\n  }();\n\n  AvForm.prototype.getInputState = function getInputState(inputName) {\n    var errorMessage = void 0;\n    var error = this.isTouched(inputName) && this.hasError(inputName);\n    var color = void 0;\n\n    if (error) {\n      errorMessage = this.state.invalidInputs[inputName];\n      color = 'danger';\n\n      if (!(0, _isString2.default)(errorMessage)) {\n        errorMessage = 'This field is invalid';\n      }\n    }\n\n    return {\n      color: color,\n      error: error,\n      errorMessage: errorMessage\n    };\n  };\n\n  AvForm.prototype.hasError = function hasError(inputName) {\n    return inputName ? !!this.state.invalidInputs[inputName] : (0, _keys2.default)(this.state.invalidInputs).length > 0;\n  };\n\n  AvForm.prototype.isDirty = function isDirty(inputName) {\n    return inputName ? !!this.state.dirtyInputs[inputName] : (0, _keys2.default)(this.state.dirtyInputs).length > 0;\n  };\n\n  AvForm.prototype.isTouched = function isTouched(inputName) {\n    return inputName ? !!this.state.touchedInputs[inputName] : (0, _keys2.default)(this.state.touchedInputs).length > 0;\n  };\n\n  AvForm.prototype.isBad = function isBad(inputName) {\n    return inputName ? !!this.state.badInputs[inputName] : (0, _keys2.default)(this.state.badInputs).length > 0;\n  };\n\n  AvForm.prototype.setError = function setError(inputName) {\n    var error = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    var _this7 = this;\n\n    var errText = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : error;\n    var update = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n    if (error && !(0, _isString2.default)(errText) && typeof errText !== 'boolean') {\n      errText = errText + '';\n    }\n\n    var changed = false;\n    var currentError = this.hasError(inputName);\n    var invalidInputs = this.state.invalidInputs;\n    if ((invalidInputs[inputName] === undefined && !error || invalidInputs[inputName] === (errText || true)) && error === currentError) return;\n\n    if (error) {\n      invalidInputs[inputName] = errText || true;\n      changed = true;\n    } else {\n      delete invalidInputs[inputName];\n      changed = true;\n    }\n\n    if (!changed) return;\n    invalidInputs = (0, _extends3.default)({}, this.state.invalidInputs);\n    this.setState({\n      invalidInputs: invalidInputs\n    }, function () {\n      if (update) _this7.updateInputs();\n    });\n  };\n\n  AvForm.prototype.setDirty = function setDirty(inputs) {\n    var _this8 = this;\n\n    var dirty = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var update = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    var dirtyInputs = this.state.dirtyInputs;\n    var changed = false;\n\n    if (!Array.isArray(inputs)) {\n      inputs = [inputs];\n    }\n\n    inputs.forEach(function (inputName) {\n      if (dirty && !dirtyInputs[inputName]) {\n        dirtyInputs[inputName] = true;\n        changed = true;\n      } else if (!dirty && dirtyInputs[inputName]) {\n        delete dirtyInputs[inputName];\n        changed = true;\n      }\n    });\n    if (!changed) return;\n    dirtyInputs = (0, _extends3.default)({}, this.state.dirtyInputs);\n    this.setState({\n      dirtyInputs: dirtyInputs\n    }, function () {\n      if (update) _this8.updateInputs();\n    });\n  };\n\n  AvForm.prototype.setTouched = function setTouched(inputs) {\n    var _this9 = this;\n\n    var touched = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var update = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    var touchedInputs = this.state.touchedInputs;\n    var changed = false;\n\n    if (!Array.isArray(inputs)) {\n      inputs = [inputs];\n    }\n\n    inputs.forEach(function (inputName) {\n      if (touched && !touchedInputs[inputName]) {\n        touchedInputs[inputName] = true;\n        changed = true;\n      } else if (!touched && touchedInputs[inputName]) {\n        delete touchedInputs[inputName];\n        changed = true;\n      }\n    });\n    if (!changed) return;\n    touchedInputs = (0, _extends3.default)({}, this.state.touchedInputs);\n    this.setState({\n      touchedInputs: touchedInputs\n    }, function () {\n      if (update) _this9.updateInputs();\n    });\n  };\n\n  AvForm.prototype.setBad = function setBad(inputs) {\n    var _this10 = this;\n\n    var isBad = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var update = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    var badInputs = this.state.badInputs;\n    var changed = false;\n\n    if (!Array.isArray(inputs)) {\n      inputs = [inputs];\n    }\n\n    inputs.forEach(function (inputName) {\n      if (isBad && !badInputs[inputName]) {\n        badInputs[inputName] = true;\n        changed = true;\n      } else if (!isBad && badInputs[inputName]) {\n        delete badInputs[inputName];\n        changed = true;\n      }\n    });\n    if (!changed) return;\n    badInputs = (0, _extends3.default)({}, this.state.badInputs);\n    this.setState({\n      badInputs: badInputs\n    }, function () {\n      if (update) _this10.updateInputs();\n    });\n  };\n\n  AvForm.prototype.validateOne = function () {\n    var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(inputName, context) {\n      var update = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var input, value, validate, isValid, result, error;\n      return _regenerator2.default.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              input = this._inputs[inputName];\n\n              if (!Array.isArray(input)) {\n                _context3.next = 3;\n                break;\n              }\n\n              throw new Error('Multiple inputs cannot use the same name: \"' + inputName + '\"');\n\n            case 3:\n              value = (0, _get3.default)(context, inputName);\n              validate = input.validations;\n              isValid = true;\n              result = void 0;\n              error = void 0;\n\n              if (!(typeof validate === 'function')) {\n                _context3.next = 14;\n                break;\n              }\n\n              _context3.next = 11;\n              return validate(value, context, input);\n\n            case 11:\n              result = _context3.sent;\n              _context3.next = 21;\n              break;\n\n            case 14:\n              if (!((typeof validate === 'undefined' ? 'undefined' : (0, _typeof3.default)(validate)) === 'object')) {\n                _context3.next = 20;\n                break;\n              }\n\n              _context3.next = 17;\n              return this._validators[inputName](value, context);\n\n            case 17:\n              result = _context3.sent;\n              _context3.next = 21;\n              break;\n\n            case 20:\n              result = true;\n\n            case 21:\n              if (result !== true) {\n                isValid = false;\n\n                if ((0, _isString2.default)(result)) {\n                  error = result;\n                }\n              }\n\n              this.setError(inputName, !isValid, error, update);\n              return _context3.abrupt('return', isValid);\n\n            case 24:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function validateOne(_x12, _x13) {\n      return _ref4.apply(this, arguments);\n    }\n\n    return validateOne;\n  }();\n\n  AvForm.prototype.validateAll = function () {\n    var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(context) {\n      var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var errors, isValid, inputName, valid, formLevelValidation;\n      return _regenerator2.default.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              errors = [];\n              isValid = true;\n              _context4.t0 = _regenerator2.default.keys(this._inputs);\n\n            case 3:\n              if ((_context4.t1 = _context4.t0()).done) {\n                _context4.next = 12;\n                break;\n              }\n\n              inputName = _context4.t1.value;\n\n              if (!this._inputs.hasOwnProperty(inputName)) {\n                _context4.next = 10;\n                break;\n              }\n\n              _context4.next = 8;\n              return this.validateOne(inputName, context, update);\n\n            case 8:\n              valid = _context4.sent;\n\n              if (!valid) {\n                isValid = false;\n                errors.push(inputName);\n              }\n\n            case 10:\n              _context4.next = 3;\n              break;\n\n            case 12:\n              if (this.props.validate) {\n                formLevelValidation = this.props.validate;\n\n                if (!Array.isArray(formLevelValidation)) {\n                  formLevelValidation = [formLevelValidation];\n                }\n\n                if (!formLevelValidation.every(function (validationFn) {\n                  return validationFn(context);\n                })) {\n                  isValid = false;\n                  errors.push('*');\n                }\n              }\n\n              return _context4.abrupt('return', {\n                isValid: isValid,\n                errors: errors\n              });\n\n            case 14:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function validateAll(_x15) {\n      return _ref5.apply(this, arguments);\n    }\n\n    return validateAll;\n  }();\n\n  AvForm.prototype.compileValidationRules = function compileValidationRules(input, ruleProp) {\n    var _this11 = this;\n\n    return function () {\n      var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(val, context) {\n        var result, validations, _loop, rule;\n\n        return _regenerator2.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!_this11.isBad(input.props.name)) {\n                  _context5.next = 2;\n                  break;\n                }\n\n                return _context5.abrupt('return', false);\n\n              case 2:\n                result = true;\n                validations = [];\n\n                _loop = function _loop(rule) {\n                  /* istanbul ignore else  */\n                  if (ruleProp.hasOwnProperty(rule)) {\n                    var ruleResult = void 0;\n                    var promise = new _promise2.default(function (resolve, reject) {\n                      var callback = function callback(value) {\n                        return resolve({\n                          value: value,\n                          rule: rule\n                        });\n                      };\n\n                      if (typeof ruleProp[rule] === 'function') {\n                        ruleResult = ruleProp[rule](val, context, input, callback);\n                      } else {\n                        if (typeof _AvValidator2.default[rule] !== 'function') {\n                          return reject(new Error('Invalid input validation rule: \"' + rule + '\"'));\n                        }\n\n                        if (ruleProp[rule].enabled === false) {\n                          ruleResult = true;\n                        } else {\n                          ruleResult = _AvValidator2.default[rule](val, context, ruleProp[rule], input, callback);\n                        }\n                      }\n\n                      if (ruleResult && typeof ruleResult.then === 'function') {\n                        ruleResult.then(callback);\n                      } else if (ruleResult !== undefined) {\n                        callback(ruleResult);\n                      } else {// they are using the callback\n                      }\n                    });\n                    validations.push(promise);\n                  }\n                };\n\n                for (rule in ruleProp) {\n                  _loop(rule);\n                }\n\n                _context5.next = 8;\n                return _promise2.default.all(validations).then(function (results) {\n                  results.every(function (ruleResult) {\n                    if (result === true && ruleResult.value !== true) {\n                      result = (0, _isString2.default)(ruleResult.value) && ruleResult.value || getInputErrorMessage(input, ruleResult.rule) || getInputErrorMessage(_this11, ruleResult.rule) || false;\n                    }\n\n                    return result === true;\n                  });\n                });\n\n              case 8:\n                return _context5.abrupt('return', result);\n\n              case 9:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, _this11);\n      }));\n\n      return function (_x17, _x18) {\n        return _ref6.apply(this, arguments);\n      };\n    }();\n  };\n\n  AvForm.prototype.getDefaultValue = function getDefaultValue(inputName) {\n    return (0, _get3.default)(this.props.model, inputName);\n  };\n\n  AvForm.prototype.getValue = function getValue(inputName) {\n    var input = this._inputs[inputName];\n    if (!input) return undefined;\n\n    if (Array.isArray(input)) {\n      throw new Error('Multiple inputs cannot use the same name: \"' + inputName + '\"');\n    }\n\n    return input.getValue();\n  };\n\n  return AvForm;\n}(_AvInputContainer2.default);\n\nAvForm.childContextTypes = {\n  FormCtrl: _propTypes2.default.object.isRequired\n};\nAvForm.contextTypes = {\n  FormCtrl: _propTypes2.default.object\n};\nAvForm.propTypes = {\n  tag: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string]),\n  className: _propTypes2.default.string,\n  model: _propTypes2.default.object,\n  method: _propTypes2.default.oneOf(['get', 'post']),\n  onSubmit: _propTypes2.default.func,\n  beforeSubmitValidation: _propTypes2.default.func,\n  validate: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.array]),\n  onValidSubmit: _propTypes2.default.func,\n  onInvalidSubmit: _propTypes2.default.func,\n  validationEvent: _propTypes2.default.oneOfType([_propTypes2.default.oneOf(['onInput', 'onChange', 'onBlur', 'onFocus']), _propTypes2.default.arrayOf(_propTypes2.default.oneOf(['onInput', 'onChange', 'onBlur', 'onFocus']))]),\n  errorMessage: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.string, _propTypes2.default.node]),\n  disabled: _propTypes2.default.bool,\n  readOnly: _propTypes2.default.bool\n};\nAvForm.defaultProps = {\n  tag: _reactstrap.Form,\n  model: {},\n  validationEvent: ['onChange', 'onInput'],\n  method: 'get',\n  onSubmit: function onSubmit() {},\n  onKeyDown: function onKeyDown() {},\n  onValidSubmit: function onValidSubmit() {},\n  onInvalidSubmit: function onInvalidSubmit() {}\n};\nexports.default = AvForm;","map":{"version":3,"sources":["/Users/jessebarnes/expenseMaster/frontend/node_modules/availity-reactstrap-validation/lib/AvForm.js"],"names":["exports","__esModule","_promise","require","_promise2","_interopRequireDefault","_extends2","_extends3","_objectWithoutProperties2","_objectWithoutProperties3","_regenerator","_regenerator2","_keys","_keys2","_asyncToGenerator2","_asyncToGenerator3","_classCallCheck2","_classCallCheck3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_typeof2","_typeof3","_react","_react2","_propTypes","_propTypes2","_AvInputContainer","_AvInputContainer2","_AvValidator","_AvValidator2","_reactstrap","_classnames","_classnames2","_get2","_get3","_set2","_set3","_throttle2","_throttle3","_isString","_isString2","obj","default","getInputErrorMessage","input","ruleName","errorMessage","props","AvForm","_InputContainer","_this2","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","_isMounted","state","invalidInputs","dirtyInputs","touchedInputs","badInputs","submitted","validations","handleSubmit","_ref","mark","_callee","e","values","_ref2","isValid","errors","wrap","_callee$","_context","prev","next","beforeSubmitValidation","preventDefault","disabled","abrupt","getValues","validateAll","sent","setTouched","_inputs","updateInputs","onSubmit","onValidSubmit","onInvalidSubmit","setState","stop","_x","handleNonFormSubmission","event","onKeyDown","type","which","keyCode","key","stopPropagation","prototype","getChildContext","_this3","FormCtrl","getDefaultValue","bind","getInputState","getInput","name","getInputValue","getValue","hasError","isDirty","isTouched","isBad","isDisabled","isReadOnly","readOnly","setDirty","setBad","register","registerInput","unregister","unregisterInput","validate","validateInput","getValidationEvent","validationEvent","parent","context","componentWillUnmount","componentWillMount","_validators","updater","compileValidationRules","setError","render","_props","Tag","tag","omit1","omit2","model","omit3","omit4","omit5","omit6","validateOne","omit7","omit8","omit9","omit10","omit11","className","attributes","classes","Form","createElement","noValidate","action","_this4","reduce","inputName","submit","reset","_this5","forEach","_this6","throttledUpdateInputs","_updaters","_ref3","_callee2","_callee2$","_context2","_x2","error","color","undefined","_this7","errText","update","changed","currentError","inputs","_this8","dirty","isArray","_this9","touched","_this10","_ref4","_callee3","value","result","_callee3$","_context3","Error","_x12","_x13","_ref5","_callee4","valid","formLevelValidation","_callee4$","_context4","t0","keys","t1","done","hasOwnProperty","push","every","validationFn","_x15","ruleProp","_this11","_ref6","_callee5","val","_loop","rule","_callee5$","_context5","ruleResult","promise","resolve","reject","callback","enabled","then","all","results","_x17","_x18","childContextTypes","object","isRequired","contextTypes","propTypes","oneOfType","func","string","method","oneOf","array","arrayOf","node","bool","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _AvInputContainer = require('./AvInputContainer');\n\nvar _AvInputContainer2 = _interopRequireDefault(_AvInputContainer);\n\nvar _AvValidator = require('./AvValidator');\n\nvar _AvValidator2 = _interopRequireDefault(_AvValidator);\n\nvar _reactstrap = require('reactstrap');\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _get2 = require('lodash/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _set2 = require('lodash/set');\n\nvar _set3 = _interopRequireDefault(_set2);\n\nvar _throttle2 = require('lodash/throttle');\n\nvar _throttle3 = _interopRequireDefault(_throttle2);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getInputErrorMessage = function getInputErrorMessage(input, ruleName) {\n  var errorMessage = input && input.props && input.props.errorMessage;\n\n  if ((typeof errorMessage === 'undefined' ? 'undefined' : (0, _typeof3.default)(errorMessage)) === 'object') {\n    return errorMessage[ruleName];\n  }\n  return errorMessage;\n};\n\nvar AvForm = function (_InputContainer) {\n  (0, _inherits3.default)(AvForm, _InputContainer);\n\n  function AvForm() {\n    var _this2 = this;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, AvForm);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, _InputContainer.call.apply(_InputContainer, [this].concat(args))), _this), _this._isMounted = false, _this.state = {\n      invalidInputs: {},\n      dirtyInputs: {},\n      touchedInputs: {},\n      badInputs: {},\n      submitted: false\n    }, _this.validations = {}, _this.handleSubmit = function () {\n      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(e) {\n        var values, _ref2, isValid, errors;\n\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.props.beforeSubmitValidation) {\n                  _this.props.beforeSubmitValidation(e);\n                }\n\n                if (e && typeof e.preventDefault === 'function') {\n                  e.preventDefault();\n                }\n\n                if (!_this.props.disabled) {\n                  _context.next = 4;\n                  break;\n                }\n\n                return _context.abrupt('return');\n\n              case 4:\n                values = _this.getValues();\n                _context.next = 7;\n                return _this.validateAll(values, false);\n\n              case 7:\n                _ref2 = _context.sent;\n                isValid = _ref2.isValid;\n                errors = _ref2.errors;\n\n\n                _this.setTouched((0, _keys2.default)(_this._inputs), true, false);\n\n                _this.updateInputs();\n\n                _this.props.onSubmit(e, errors, values);\n                if (isValid) {\n                  _this.props.onValidSubmit(e, values);\n                } else {\n                  _this.props.onInvalidSubmit(e, errors, values);\n                }\n\n                !_this.state.submitted && _this._isMounted && _this.setState({ submitted: true });\n\n              case 15:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this2);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(), _this.handleNonFormSubmission = function (event) {\n      if (_this.props.onKeyDown(event) !== false) {\n        if (event.type === 'keydown' && (event.which === 13 || event.keyCode === 13 || event.key === 'Enter')) {\n          event.stopPropagation();\n          event.preventDefault();\n          _this.handleSubmit(event);\n        }\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  AvForm.prototype.getChildContext = function getChildContext() {\n    var _this3 = this;\n\n    return {\n      FormCtrl: {\n        getDefaultValue: this.getDefaultValue.bind(this),\n        getInputState: this.getInputState.bind(this),\n        getInput: function getInput(name) {\n          return _this3._inputs[name];\n        },\n        getInputValue: this.getValue.bind(this),\n        getValues: this.getValues.bind(this),\n        hasError: this.hasError.bind(this),\n        isDirty: this.isDirty.bind(this),\n        isTouched: this.isTouched.bind(this),\n        isBad: this.isBad.bind(this),\n        isDisabled: function isDisabled() {\n          return _this3.props.disabled;\n        },\n        isReadOnly: function isReadOnly() {\n          return _this3.props.readOnly;\n        },\n        setDirty: this.setDirty.bind(this),\n        setTouched: this.setTouched.bind(this),\n        setBad: this.setBad.bind(this),\n        register: this.registerInput.bind(this),\n        unregister: this.unregisterInput.bind(this),\n        validate: this.validateInput.bind(this),\n        getValidationEvent: function getValidationEvent() {\n          return _this3.props.validationEvent;\n        },\n        parent: this.context.FormCtrl || null\n      }\n    };\n  };\n\n  AvForm.prototype.componentWillUnmount = function componentWillUnmount() {\n    this._isMounted = false;\n  };\n\n  AvForm.prototype.componentWillMount = function componentWillMount() {\n    this._isMounted = true;\n    _InputContainer.prototype.componentWillMount.call(this);\n\n    this._validators = {};\n  };\n\n  AvForm.prototype.registerInput = function registerInput(input, updater) {\n    _InputContainer.prototype.registerInput.call(this, input, updater);\n\n    if ((0, _typeof3.default)(input.validations) === 'object') {\n      this._validators[input.props.name] = this.compileValidationRules(input, input.validations);\n    }\n  };\n\n  AvForm.prototype.unregisterInput = function unregisterInput(input) {\n    _InputContainer.prototype.unregisterInput.call(this, input);\n\n    delete this._validators[input.props.name];\n    this.setError(input.props.name, false);\n    this.setDirty(input.props.name, false);\n    this.setTouched(input.props.name, false);\n    this.setBad(input.props.name, false);\n  };\n\n  AvForm.prototype.render = function render() {\n    var _props = this.props,\n        Tag = _props.tag,\n        omit1 = _props.errorMessage,\n        omit2 = _props.model,\n        omit3 = _props.onValidSubmit,\n        omit4 = _props.onInvalidSubmit,\n        omit5 = _props.validate,\n        omit6 = _props.validateOne,\n        omit7 = _props.validateAll,\n        omit8 = _props.validationEvent,\n        omit9 = _props.disabled,\n        omit10 = _props.readOnly,\n        omit11 = _props.beforeSubmitValidation,\n        className = _props.className,\n        attributes = (0, _objectWithoutProperties3.default)(_props, ['tag', 'errorMessage', 'model', 'onValidSubmit', 'onInvalidSubmit', 'validate', 'validateOne', 'validateAll', 'validationEvent', 'disabled', 'readOnly', 'beforeSubmitValidation', 'className']);\n\n\n    var classes = (0, _classnames2.default)(className, this.state.submitted ? 'av-submitted' : false, (0, _keys2.default)(this.state.invalidInputs).length > 0 ? 'av-invalid' : 'av-valid');\n\n    if (Tag !== 'form' && Tag !== _reactstrap.Form) {\n      attributes.onKeyDown = this.handleNonFormSubmission;\n    }\n\n    return _react2.default.createElement(Tag, (0, _extends3.default)({ noValidate: true,\n      action: '#'\n    }, attributes, {\n      className: classes,\n      onSubmit: this.handleSubmit\n    }));\n  };\n\n  AvForm.prototype.getValues = function getValues() {\n    var _this4 = this;\n\n    return (0, _keys2.default)(this._inputs).reduce(function (values, inputName) {\n      (0, _set3.default)(values, inputName, _this4.getValue(inputName));\n\n      return values;\n    }, {});\n  };\n\n  AvForm.prototype.submit = function submit() {\n    this.handleSubmit.apply(this, arguments);\n  };\n\n  AvForm.prototype.reset = function reset() {\n    var _this5 = this;\n\n    (0, _keys2.default)(this._inputs).forEach(function (inputName) {\n      return _this5._inputs[inputName] && _this5._inputs[inputName].reset();\n    });\n  };\n\n  AvForm.prototype.updateInputs = function updateInputs() {\n    var _this6 = this;\n\n    if (this.throttledUpdateInputs) {\n      this.throttledUpdateInputs();\n      return;\n    }\n    // this is just until a more intelligent way to determine which inputs need updated is implemented in v3\n    this.throttledUpdateInputs = (0, _throttle3.default)(function () {\n      (0, _keys2.default)(_this6._updaters).forEach(function (inputName) {\n        return _this6._updaters[inputName] && _this6._inputs[inputName] && _this6._updaters[inputName].call(_this6._inputs[inputName], {});\n      });\n    }, 250);\n    this.updateInputs();\n  };\n\n  AvForm.prototype.validateInput = function () {\n    var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(name) {\n      return _regenerator2.default.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.validateOne(name, this.getValues());\n\n            case 2:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function validateInput(_x2) {\n      return _ref3.apply(this, arguments);\n    }\n\n    return validateInput;\n  }();\n\n  AvForm.prototype.getInputState = function getInputState(inputName) {\n    var errorMessage = void 0;\n    var error = this.isTouched(inputName) && this.hasError(inputName);\n    var color = void 0;\n\n    if (error) {\n      errorMessage = this.state.invalidInputs[inputName];\n      color = 'danger';\n      if (!(0, _isString2.default)(errorMessage)) {\n        errorMessage = 'This field is invalid';\n      }\n    }\n\n    return { color: color, error: error, errorMessage: errorMessage };\n  };\n\n  AvForm.prototype.hasError = function hasError(inputName) {\n    return inputName ? !!this.state.invalidInputs[inputName] : (0, _keys2.default)(this.state.invalidInputs).length > 0;\n  };\n\n  AvForm.prototype.isDirty = function isDirty(inputName) {\n    return inputName ? !!this.state.dirtyInputs[inputName] : (0, _keys2.default)(this.state.dirtyInputs).length > 0;\n  };\n\n  AvForm.prototype.isTouched = function isTouched(inputName) {\n    return inputName ? !!this.state.touchedInputs[inputName] : (0, _keys2.default)(this.state.touchedInputs).length > 0;\n  };\n\n  AvForm.prototype.isBad = function isBad(inputName) {\n    return inputName ? !!this.state.badInputs[inputName] : (0, _keys2.default)(this.state.badInputs).length > 0;\n  };\n\n  AvForm.prototype.setError = function setError(inputName) {\n    var error = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    var _this7 = this;\n\n    var errText = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : error;\n    var update = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n    if (error && !(0, _isString2.default)(errText) && typeof errText !== 'boolean') {\n      errText = errText + '';\n    }\n    var changed = false;\n    var currentError = this.hasError(inputName);\n    var invalidInputs = this.state.invalidInputs;\n\n    if ((invalidInputs[inputName] === undefined && !error || invalidInputs[inputName] === (errText || true)) && error === currentError) return;\n    if (error) {\n      invalidInputs[inputName] = errText || true;\n      changed = true;\n    } else {\n      delete invalidInputs[inputName];\n      changed = true;\n    }\n\n    if (!changed) return;\n\n    invalidInputs = (0, _extends3.default)({}, this.state.invalidInputs);\n    this.setState({ invalidInputs: invalidInputs }, function () {\n      if (update) _this7.updateInputs();\n    });\n  };\n\n  AvForm.prototype.setDirty = function setDirty(inputs) {\n    var _this8 = this;\n\n    var dirty = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var update = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n    var dirtyInputs = this.state.dirtyInputs;\n    var changed = false;\n    if (!Array.isArray(inputs)) {\n      inputs = [inputs];\n    }\n    inputs.forEach(function (inputName) {\n      if (dirty && !dirtyInputs[inputName]) {\n        dirtyInputs[inputName] = true;\n        changed = true;\n      } else if (!dirty && dirtyInputs[inputName]) {\n        delete dirtyInputs[inputName];\n        changed = true;\n      }\n    });\n\n    if (!changed) return;\n\n    dirtyInputs = (0, _extends3.default)({}, this.state.dirtyInputs);\n    this.setState({ dirtyInputs: dirtyInputs }, function () {\n      if (update) _this8.updateInputs();\n    });\n  };\n\n  AvForm.prototype.setTouched = function setTouched(inputs) {\n    var _this9 = this;\n\n    var touched = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var update = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n    var touchedInputs = this.state.touchedInputs;\n    var changed = false;\n    if (!Array.isArray(inputs)) {\n      inputs = [inputs];\n    }\n    inputs.forEach(function (inputName) {\n      if (touched && !touchedInputs[inputName]) {\n        touchedInputs[inputName] = true;\n        changed = true;\n      } else if (!touched && touchedInputs[inputName]) {\n        delete touchedInputs[inputName];\n        changed = true;\n      }\n    });\n\n    if (!changed) return;\n\n    touchedInputs = (0, _extends3.default)({}, this.state.touchedInputs);\n    this.setState({ touchedInputs: touchedInputs }, function () {\n      if (update) _this9.updateInputs();\n    });\n  };\n\n  AvForm.prototype.setBad = function setBad(inputs) {\n    var _this10 = this;\n\n    var isBad = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var update = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n    var badInputs = this.state.badInputs;\n    var changed = false;\n    if (!Array.isArray(inputs)) {\n      inputs = [inputs];\n    }\n    inputs.forEach(function (inputName) {\n      if (isBad && !badInputs[inputName]) {\n        badInputs[inputName] = true;\n        changed = true;\n      } else if (!isBad && badInputs[inputName]) {\n        delete badInputs[inputName];\n        changed = true;\n      }\n    });\n\n    if (!changed) return;\n\n    badInputs = (0, _extends3.default)({}, this.state.badInputs);\n    this.setState({ badInputs: badInputs }, function () {\n      if (update) _this10.updateInputs();\n    });\n  };\n\n  AvForm.prototype.validateOne = function () {\n    var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(inputName, context) {\n      var update = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var input, value, validate, isValid, result, error;\n      return _regenerator2.default.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              input = this._inputs[inputName];\n\n              if (!Array.isArray(input)) {\n                _context3.next = 3;\n                break;\n              }\n\n              throw new Error('Multiple inputs cannot use the same name: \"' + inputName + '\"');\n\n            case 3:\n              value = (0, _get3.default)(context, inputName);\n              validate = input.validations;\n              isValid = true;\n              result = void 0;\n              error = void 0;\n\n              if (!(typeof validate === 'function')) {\n                _context3.next = 14;\n                break;\n              }\n\n              _context3.next = 11;\n              return validate(value, context, input);\n\n            case 11:\n              result = _context3.sent;\n              _context3.next = 21;\n              break;\n\n            case 14:\n              if (!((typeof validate === 'undefined' ? 'undefined' : (0, _typeof3.default)(validate)) === 'object')) {\n                _context3.next = 20;\n                break;\n              }\n\n              _context3.next = 17;\n              return this._validators[inputName](value, context);\n\n            case 17:\n              result = _context3.sent;\n              _context3.next = 21;\n              break;\n\n            case 20:\n              result = true;\n\n            case 21:\n\n              if (result !== true) {\n                isValid = false;\n\n                if ((0, _isString2.default)(result)) {\n                  error = result;\n                }\n              }\n\n              this.setError(inputName, !isValid, error, update);\n\n              return _context3.abrupt('return', isValid);\n\n            case 24:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function validateOne(_x12, _x13) {\n      return _ref4.apply(this, arguments);\n    }\n\n    return validateOne;\n  }();\n\n  AvForm.prototype.validateAll = function () {\n    var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4(context) {\n      var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var errors, isValid, inputName, valid, formLevelValidation;\n      return _regenerator2.default.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              errors = [];\n              isValid = true;\n              _context4.t0 = _regenerator2.default.keys(this._inputs);\n\n            case 3:\n              if ((_context4.t1 = _context4.t0()).done) {\n                _context4.next = 12;\n                break;\n              }\n\n              inputName = _context4.t1.value;\n\n              if (!this._inputs.hasOwnProperty(inputName)) {\n                _context4.next = 10;\n                break;\n              }\n\n              _context4.next = 8;\n              return this.validateOne(inputName, context, update);\n\n            case 8:\n              valid = _context4.sent;\n\n              if (!valid) {\n                isValid = false;\n                errors.push(inputName);\n              }\n\n            case 10:\n              _context4.next = 3;\n              break;\n\n            case 12:\n\n              if (this.props.validate) {\n                formLevelValidation = this.props.validate;\n\n                if (!Array.isArray(formLevelValidation)) {\n                  formLevelValidation = [formLevelValidation];\n                }\n\n                if (!formLevelValidation.every(function (validationFn) {\n                  return validationFn(context);\n                })) {\n                  isValid = false;\n                  errors.push('*');\n                }\n              }\n\n              return _context4.abrupt('return', {\n                isValid: isValid,\n                errors: errors\n              });\n\n            case 14:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function validateAll(_x15) {\n      return _ref5.apply(this, arguments);\n    }\n\n    return validateAll;\n  }();\n\n  AvForm.prototype.compileValidationRules = function compileValidationRules(input, ruleProp) {\n    var _this11 = this;\n\n    return function () {\n      var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(val, context) {\n        var result, validations, _loop, rule;\n\n        return _regenerator2.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!_this11.isBad(input.props.name)) {\n                  _context5.next = 2;\n                  break;\n                }\n\n                return _context5.abrupt('return', false);\n\n              case 2:\n                result = true;\n                validations = [];\n\n                _loop = function _loop(rule) {\n                  /* istanbul ignore else  */\n                  if (ruleProp.hasOwnProperty(rule)) {\n                    var ruleResult = void 0;\n\n                    var promise = new _promise2.default(function (resolve, reject) {\n                      var callback = function callback(value) {\n                        return resolve({ value: value, rule: rule });\n                      };\n\n                      if (typeof ruleProp[rule] === 'function') {\n                        ruleResult = ruleProp[rule](val, context, input, callback);\n                      } else {\n                        if (typeof _AvValidator2.default[rule] !== 'function') {\n                          return reject(new Error('Invalid input validation rule: \"' + rule + '\"'));\n                        }\n\n                        if (ruleProp[rule].enabled === false) {\n                          ruleResult = true;\n                        } else {\n                          ruleResult = _AvValidator2.default[rule](val, context, ruleProp[rule], input, callback);\n                        }\n                      }\n\n                      if (ruleResult && typeof ruleResult.then === 'function') {\n                        ruleResult.then(callback);\n                      } else if (ruleResult !== undefined) {\n                        callback(ruleResult);\n                      } else {\n                        // they are using the callback\n                      }\n                    });\n\n                    validations.push(promise);\n                  }\n                };\n\n                for (rule in ruleProp) {\n                  _loop(rule);\n                }\n\n                _context5.next = 8;\n                return _promise2.default.all(validations).then(function (results) {\n                  results.every(function (ruleResult) {\n                    if (result === true && ruleResult.value !== true) {\n                      result = (0, _isString2.default)(ruleResult.value) && ruleResult.value || getInputErrorMessage(input, ruleResult.rule) || getInputErrorMessage(_this11, ruleResult.rule) || false;\n                    }\n                    return result === true;\n                  });\n                });\n\n              case 8:\n                return _context5.abrupt('return', result);\n\n              case 9:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, _this11);\n      }));\n\n      return function (_x17, _x18) {\n        return _ref6.apply(this, arguments);\n      };\n    }();\n  };\n\n  AvForm.prototype.getDefaultValue = function getDefaultValue(inputName) {\n    return (0, _get3.default)(this.props.model, inputName);\n  };\n\n  AvForm.prototype.getValue = function getValue(inputName) {\n    var input = this._inputs[inputName];\n\n    if (!input) return undefined;\n\n    if (Array.isArray(input)) {\n      throw new Error('Multiple inputs cannot use the same name: \"' + inputName + '\"');\n    }\n\n    return input.getValue();\n  };\n\n  return AvForm;\n}(_AvInputContainer2.default);\n\nAvForm.childContextTypes = {\n  FormCtrl: _propTypes2.default.object.isRequired\n};\nAvForm.contextTypes = {\n  FormCtrl: _propTypes2.default.object\n};\nAvForm.propTypes = {\n  tag: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string]),\n  className: _propTypes2.default.string,\n  model: _propTypes2.default.object,\n  method: _propTypes2.default.oneOf(['get', 'post']),\n  onSubmit: _propTypes2.default.func,\n  beforeSubmitValidation: _propTypes2.default.func,\n  validate: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.array]),\n  onValidSubmit: _propTypes2.default.func,\n  onInvalidSubmit: _propTypes2.default.func,\n  validationEvent: _propTypes2.default.oneOfType([_propTypes2.default.oneOf(['onInput', 'onChange', 'onBlur', 'onFocus']), _propTypes2.default.arrayOf(_propTypes2.default.oneOf(['onInput', 'onChange', 'onBlur', 'onFocus']))]),\n  errorMessage: _propTypes2.default.oneOfType([_propTypes2.default.object, _propTypes2.default.string, _propTypes2.default.node]),\n  disabled: _propTypes2.default.bool,\n  readOnly: _propTypes2.default.bool\n};\nAvForm.defaultProps = {\n  tag: _reactstrap.Form,\n  model: {},\n  validationEvent: ['onChange', 'onInput'],\n  method: 'get',\n  onSubmit: function onSubmit() {},\n  onKeyDown: function onKeyDown() {},\n  onValidSubmit: function onValidSubmit() {},\n  onInvalidSubmit: function onInvalidSubmit() {}\n};\nexports.default = AvForm;"]},"metadata":{},"sourceType":"script"}